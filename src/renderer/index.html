<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.socket.io; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https: http: blob:; media-src 'self' blob: https: http: file:; connect-src 'self' ws: wss: http: https: file:; font-src 'self' data: https://fonts.gstatic.com https://fonts.googleapis.com; object-src 'none'; base-uri 'self'; form-action 'self';">
  <title>SyncStream Pro</title>
  <link rel="stylesheet" href="css/main-new.css?v=2.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
</head>

<body>
  <div id="app">
    <!-- Navigation Bar -->
    <nav class="navbar hidden" id="navbar">
      <div class="nav-brand">
        <div class="nav-logo">
          <span class="logo-icon">üé¨</span>
          <span>SyncStream Pro</span>
        </div>
      </div>

      <div class="nav-center">
        <div class="room-indicator">
          <span class="status-dot"></span>
          <span id="room-status-text">Connected</span>
          <span class="room-id" id="nav-room-id"></span>
        </div>
        <div class="network-status" id="network-status">
          <span>üì° Checking...</span>
        </div>
        <button class="nav-btn speed-test-btn" id="speed-test-btn" title="Test Internet Speed">
          <span>‚ö°</span> Speed Test
        </button>
      </div>

      <div class="nav-actions">
        <button class="nav-btn danger" data-action="leave-room" title="Leave Room">
          <span>üö™</span> Leave
        </button>
      </div>
    </nav>

    <!-- Welcome Page -->
    <div class="page active" id="welcome-page">
      <div class="welcome-container">
        <!-- Header -->
        <header class="welcome-header">
          <div class="logo-section">
            <div class="logo-icon">üé¨</div>
            <h1 class="app-title">SyncStream Pro</h1>
            <p class="app-tagline">Watch together, perfectly synced</p>
          </div>
          <div class="header-actions">
            <button class="icon-btn" id="settings-btn" title="Settings">
              <span>‚öôÔ∏è</span>
            </button>
            <button class="icon-btn" id="help-btn" title="Help">
              <span>‚ùì</span>
            </button>
          </div>
        </header>

        <!-- Main Actions -->
        <div class="main-actions">
          <div class="action-card primary" data-action="create-room">
            <div class="action-icon">üè†</div>
            <h2>Host a Room</h2>
            <p>Create a new room and invite friends</p>
            <div class="action-features">
              <span>‚úì Full control</span>
              <span>‚úì HD streaming</span>
              <span>‚úì Up to 25 users</span>
            </div>
          </div>

          <div class="action-card secondary" data-action="join-room">
            <div class="action-icon">üîó</div>
            <h2>Join a Room</h2>
            <p>Enter a room code to join friends</p>
            <div class="action-features">
              <span>‚úì Instant sync</span>
              <span>‚úì Real-time chat</span>
              <span>‚úì Any device</span>
            </div>
          </div>
        </div>

        <!-- Quick Join -->
        <div class="quick-join">
          <div class="quick-join-header">
            <span>Have a room code?</span>
          </div>
          <div class="quick-join-form">
            <input type="text" id="quick-room-code" placeholder="Enter 8-character code" maxlength="8" class="code-input">
            <button class="join-btn" aria-label="Quick join">Join Now</button>
          </div>
        </div>

        <!-- Info Links -->
        <div class="info-links">
          <button class="info-link" id="features-btn">
            <span>‚ú®</span> Features
          </button>
          <button class="info-link" id="how-it-works-btn">
            <span>‚ùì</span> How It Works
          </button>
          <button class="info-link" id="guide-btn">
            <span>üìñ</span> Setup Guide
          </button>
        </div>
      </div>
    </div>

    <!-- Create Room Page -->
    <div class="page" id="create-page">
      <div class="create-container">
        <!-- Header -->
        <div class="create-header">
          <button class="back-btn" data-action="back-to-welcome">
            <span>‚Üê</span> Back
          </button>
          <h1>Create Your Room</h1>
        </div>

        <!-- Create Form -->
        <div class="create-form-card">
          <form id="create-room-form">
            <!-- Basic Info Section -->
            <div class="form-section">
              <div class="section-header">
                <span class="section-icon">üë§</span>
                <h2>Basic Information</h2>
              </div>
              <div class="form-grid">
                <div class="input-group">
                  <label for="create-username">Your Name</label>
                  <input type="text" id="create-username" name="username" 
                         placeholder="Enter your display name" required maxlength="20">
                </div>
                <div class="input-group">
                  <label for="create-room-name">Room Name</label>
                  <input type="text" id="create-room-name" name="roomName" 
                         placeholder="Movie Night, Game Stream, etc." required maxlength="30">
                </div>
              </div>
            </div>

            <!-- Room Settings Section -->
            <div class="form-section">
              <div class="section-header">
                <span class="section-icon">‚öôÔ∏è</span>
                <h2>Room Settings</h2>
              </div>
              <div class="settings-row">
                <div class="setting-group">
                  <label>Room Size</label>
                  <div class="radio-buttons">
                    <label class="radio-btn">
                      <input type="radio" name="maxUsers" value="5">
                      <span>Small (5)</span>
                    </label>
                    <label class="radio-btn">
                      <input type="radio" name="maxUsers" value="10" checked>
                      <span>Medium (10)</span>
                    </label>
                    <label class="radio-btn">
                      <input type="radio" name="maxUsers" value="25">
                      <span>Large (25)</span>
                    </label>
                  </div>
                </div>
                <div class="setting-group">
                  <label>Privacy</label>
                  <div class="radio-buttons">
                    <label class="radio-btn">
                      <input type="radio" name="privacy" value="public">
                      <span>Public</span>
                    </label>
                    <label class="radio-btn">
                      <input type="radio" name="privacy" value="private" checked>
                      <span>Private</span>
                    </label>
                  </div>
                  <input type="password" id="create-password" name="password" 
                         placeholder="Room password (optional)" maxlength="20" class="password-input">
                </div>
              </div>
            </div>

            <!-- Quality Settings Section -->
            <div class="form-section">
              <div class="section-header">
                <span class="section-icon">üé¨</span>
                <h2>Streaming Quality</h2>
              </div>
              <div class="quality-grid">
                <label class="quality-option">
                  <input type="radio" name="videoQuality" value="720p30">
                  <div class="quality-card">
                    <div class="quality-title">Standard</div>
                    <div class="quality-specs">720p ‚Ä¢ 30fps</div>
                    <div class="quality-bandwidth">3.5 Mbps</div>
                  </div>
                </label>
                <label class="quality-option">
                  <input type="radio" name="videoQuality" value="1080p30">
                  <div class="quality-card">
                    <div class="quality-title">HD</div>
                    <div class="quality-specs">1080p ‚Ä¢ 30fps</div>
                    <div class="quality-bandwidth">5.0 Mbps</div>
                  </div>
                </label>
                <label class="quality-option">
                  <input type="radio" name="videoQuality" value="1080p60" checked>
                  <div class="quality-card recommended">
                    <div class="quality-badge">Recommended</div>
                    <div class="quality-title">HD Smooth</div>
                    <div class="quality-specs">1080p ‚Ä¢ 60fps</div>
                    <div class="quality-bandwidth">8.0 Mbps</div>
                  </div>
                </label>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
              <button type="submit" class="create-btn">
                <span>üöÄ</span>
                Create Room
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Join Room Page -->
    <div class="page" id="join-page">
      <div class="join-container">
        <!-- Header -->
        <div class="join-header">
          <button class="back-btn" data-action="back-to-welcome"></button>
            <span>‚Üê</span> Back
          </button>
          <h1>Join Room</h1>
        </div>

        <!-- Join Form -->
        <div class="join-form-card">
          <form id="join-room-form">
            <!-- User Info Section -->
            <div class="form-section">
              <div class="section-header">
                <span class="section-icon">üë§</span>
                <h2>Your Information</h2>
              </div>
              <div class="input-group">
                <label for="join-username">Your Name</label>
                <input type="text" id="join-username" name="username" 
                       placeholder="Enter your display name" required maxlength="20">
                <div class="input-hint">This will be visible to all participants</div>
              </div>
            </div>

            <!-- Room Details Section -->
            <div class="form-section">
              <div class="section-header">
                <span class="section-icon">üîó</span>
                <h2>Room Details</h2>
              </div>
              <div class="form-grid">
                <div class="input-group">
                  <label for="join-room-id">Room Code</label>
                  <input type="text" id="join-room-id" name="roomId" 
                         placeholder="ABC12345" required maxlength="8" 
                         class="room-code-input">
                  <div class="input-hint">8-character code from room creator</div>
                </div>
                <div class="input-group">
                  <label for="join-password">Password <span class="optional">(optional)</span></label>
                  <input type="password" id="join-password" name="password" 
                         placeholder="Room password" maxlength="20">
                  <div class="input-hint">Only for private rooms</div>
                </div>
              </div>
            </div>

            <!-- Connection Settings Section -->
            <div class="form-section">
              <div class="section-header">
                <span class="section-icon">üåê</span>
                <h2>Connection Settings</h2>
              </div>
              <div class="form-grid">
                <div class="input-group">
                  <label for="join-server-host">Server Host</label>
                  <input type="text" id="join-server-host" name="serverHost" 
                         placeholder="localhost" value="localhost" required>
                  <div class="input-hint">IP address or hostname</div>
                </div>
                <div class="input-group">
                  <label for="join-server-port">Server Port</label>
                  <input type="number" id="join-server-port" name="serverPort" 
                         placeholder="5000" value="5000" required min="1000" max="65535">
                  <div class="input-hint">Default: 5000</div>
                </div>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
              <button type="submit" class="join-btn">
                <span>üîó</span>
                Join Room
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Success Page -->
    <div class="page" id="success-page">
      <div class="success-container">
        <!-- Success Header -->
        <div class="success-header">
          <div class="success-icon">‚úÖ</div>
          <h1>Room Created!</h1>
          <p>Your room is ready for friends to join</p>
        </div>

        <!-- Room Info Card -->
        <div class="room-info-card">
          <div class="room-details">
            <div class="room-name">
              <label>Room Name</label>
              <span id="room-name-success">Loading...</span>
            </div>
            <div class="room-code">
              <label>Room Code</label>
              <div class="code-display">
                <span id="room-id-display">LOADING...</span>
                <button class="copy-btn" data-copy="room-id" title="Copy room code">
                  üìã
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Actions -->
        <div class="success-actions">
          <button class="btn-primary large" data-action="enter-room">
            <span>üé¨</span>
            Enter Room
          </button>
          <button class="btn-secondary" data-action="create-another">
            <span>‚ûï</span>
            Create Another
          </button>
        </div>

        <!-- Sharing Options -->
        <div class="sharing-section">
          <h3>Share with Friends</h3>
          <div class="sharing-options">
            <div class="share-option">
              <div class="share-icon">üì±</div>
              <div class="share-content">
                <div class="share-title">Local Network</div>
                <div class="share-desc">Friends on same WiFi</div>
                <div class="share-url" id="local-url">http://loading...</div>
                <button class="copy-small" data-copy="local-url">Copy</button>
              </div>
            </div>
            <div class="share-option">
              <div class="share-icon">üåê</div>
              <div class="share-content">
                <div class="share-title">Internet Access</div>
                <div class="share-desc">Requires port forwarding</div>
                <button class="setup-guide-btn" id="setup-guide-btn">Setup Guide</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Network Status -->
        <div class="network-status-simple">
          <div class="status-item">
            <span class="status-label">Local Network:</span>
            <span class="status-value success">‚úÖ Ready</span>
          </div>
          <div class="status-item">
            <span class="status-label">Internet Access:</span>
            <span class="status-value warning">‚ö†Ô∏è Setup Required</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Hidden elements for compatibility -->
    <div style="display: none;">
      <div class="detail-item">
        <div class="detail-info">
          <div class="detail-label">
            <span class="detail-icon">üåê</span> Web Browser Link
          </div>
          <div class="detail-value" id="web-link">http://loading...</div>
        </div>
        <button class="copy-btn" data-copy="web-link">
          <span>üìã</span> Copy
        </button>
      </div>
    </div>
  </div>




  <!-- Enhanced Room Page -->
  <div class="page" id="room-page">
    <!-- Top Bar - Fixed 50px height -->
    <div class="room-top-bar">
      <div class="room-top-bar-left">
        <div class="room-info">
          <span class="room-info-icon">üé¨</span>
          <div class="room-info-text">
            <div class="room-info-name" id="room-name-display">Room Name</div>
            <div class="room-info-id" id="room-id-top">ROOM-ID</div>
          </div>
        </div>
      </div>

      <div class="room-top-bar-center">
        <div class="connection-status" id="connection-status-top" title="Click for details">
          <span class="status-dot"></span>
          <span id="connection-status-text">Connected</span>
        </div>
        <button class="top-bar-btn" id="network-info-btn" title="Network Information">
          <span>üì°</span>
          <span id="network-latency">-- ms</span>
        </button>
      </div>

      <div class="room-top-bar-right">
        <button class="top-bar-btn" id="speed-test-top-btn" title="Test Internet Speed">
          <span>‚ö°</span>
          <span>Speed Test</span>
        </button>
        <button class="top-bar-btn danger" data-action="leave-room" title="Leave Room">
          <span>üö™</span>
          <span>Leave</span>
        </button>
      </div>
    </div>

    <!-- Main Layout -->
    <div class="room-layout">
      <div class="video-section">
        <div id="room-title" class="room-title">Room</div>
        <!-- Media Manager Panel (Always visible for admin) -->
        <div class="media-manager admin-only" id="media-manager">
          <div class="media-manager-header">
            <h3>üì∫ Media Control</h3>
            <div class="media-status">
              <span class="status-dot" id="media-status-dot"></span>
              <span id="media-status-text">No Media</span>
            </div>
          </div>

          <div class="current-media" id="current-media-info" style="display: none;">
            <div class="media-info-row">
              <span class="media-label">Now Playing:</span>
              <span class="media-name" id="current-media-name">--</span>
            </div>
            <div class="media-info-row">
              <span class="media-label">Source:</span>
              <span class="media-source" id="current-media-source">--</span>
            </div>
            <div class="media-actions">
              <button class="media-btn danger" id="clear-video" title="Remove Current Video">
                <span>üóëÔ∏è</span> Clear
              </button>
            </div>
          </div>

          <div class="media-controls">
            <button class="media-btn primary" data-action="load-video" title="Load from Computer">
              <span>üìÅ</span> Load File
            </button>
            <button class="media-btn secondary" data-action="load-url" title="Load from URL/YouTube">
              <span>üåê</span> Load URL
            </button>
            <button class="media-btn" id="media-history-btn" title="Recent Media">
              <span>üìú</span> History
            </button>
          </div>

          <!-- Media History Dropdown -->
          <div class="media-history" id="media-history" style="display: none;">
            <h4>Recent Media</h4>
            <div class="history-list" id="media-history-list">
              <div class="history-empty">No recent media</div>
            </div>
          </div>
        </div>

        <div class="video-container">
          <video class="main-player" id="main-video" controls></video>
          <div class="video-overlay">
            <div class="overlay-top">
              <div class="video-title" id="video-title">
                No video loaded
              </div>
              <div class="video-info">
                <div class="video-status">
                  <span class="status-indicator"></span>
                  <span id="video-status-text">Ready</span>
                </div>
                <div class="video-quality" id="video-quality">Auto</div>
              </div>
            </div>
            <div class="overlay-center" id="video-placeholder">
              <div class="placeholder-content">
                <div class="placeholder-icon">üé¨</div>
                <h3>Ready to Watch</h3>
                <p id="placeholder-message">
                  <span class="admin-only">Use the Media Control panel above to load a video</span>
                  <span class="non-admin" style="display: none;">Waiting for admin to load a video</span>
                </p>
                <div class="placeholder-stats">
                  <div class="stat">
                    <span class="stat-icon">üë•</span>
                    <span>Users: <span id="placeholder-users">0</span></span>
                  </div>
                </div>
                <!-- Quick access buttons in placeholder too -->
                <div class="placeholder-actions admin-only">
                  <button class="btn btn-primary" data-action="load-video">
                    <span>üìÅ</span>
                    Load Video File
                  </button>
                  <button class="btn btn-secondary" data-action="load-url">
                    <span>üåê</span>
                    YouTube / URL
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="video-controls">
          <div class="controls-left">
            <button class="control-btn" id="play-pause-btn" title="Play/Pause (Space)">
              <span>‚ñ∂Ô∏è</span>
            </button>
            <div class="volume-control">
              <button class="control-btn" id="volume-btn" title="Mute (M)">
                <span>üîä</span>
              </button>
              <input type="range" class="volume-slider" min="0" max="100" value="100" title="Volume" />
            </div>
            <div class="time-display">
              <span id="current-time">0:00</span>
              <span>/</span>
              <span id="duration">0:00</span>
            </div>
          </div>
          <div class="controls-center">
            <div class="seek-container">
              <input type="range" class="seek-bar" min="0" max="100" value="0" title="Seek" />
              <div class="seek-progress"></div>
            </div>
          </div>
          <div class="controls-right">
            <!-- Sync Status Indicator -->
            <div class="sync-status" id="sync-status" title="Click for sync details">
              <span class="sync-status-dot"></span>
              <span class="sync-status-label">Synced</span>
              <span class="sync-status-text" id="sync-latency">0ms</span>
            </div>
            <div class="quality-control">
              <select class="quality-select" title="Video Quality">
                <option value="auto">Auto</option>
                <option value="1080p">1080p</option>
                <option value="720p">720p</option>
                <option value="480p">480p</option>
              </select>
            </div>
            <button class="control-btn" id="fullscreen-btn" title="Fullscreen (F)">
              <span>‚õ∂</span>
            </button>
          </div>
        </div>
      </div>

      <div class="sidebar-panel" id="sidebar-panel">
        <!-- Sidebar Toggle Button -->
        <button class="sidebar-toggle" id="sidebar-toggle" title="Toggle Sidebar">
          <span class="sidebar-toggle-icon">‚óÄ</span>
        </button>

        <div class="panel-tabs">
          <button class="tab-btn active" data-tab="users">
            <span>üë•</span>
            <span>Users</span>
            <span class="tab-count" id="users-tab-count">0</span>
          </button>
          <button class="tab-btn" data-tab="chat">
            <span>üí¨</span>
            <span>Chat</span>
            <span class="tab-count" id="chat-tab-count">0</span>
          </button>
          <button class="tab-btn" data-tab="media">
            <span>üìÅ</span>
            <span>Media</span>
          </button>
          <button class="tab-btn" data-tab="network">
            <span>üì°</span>
            <span>Network</span>
          </button>
        </div>

        <div class="tab-content active" id="users-tab">
          <div class="tab-header">
            <h3>Room Users</h3>
            <div class="user-stats">
              <span class="user-count" id="user-count">0</span>
              <span class="max-users">/ <span id="max-users">10</span></span>
            </div>
          </div>
          <div class="users-list" id="users-list">
            <div class="no-users">
              <span>üë•</span>
              <p>Waiting for users to join...</p>
            </div>
          </div>
        </div>

        <div class="tab-content" id="chat-tab">
          <div class="tab-header">
            <h3>Room Chat</h3>
            <button class="clear-btn" id="clear-chat">Clear</button>
          </div>
          <div class="chat-messages" id="chat-messages">
            <div class="chat-welcome">
              <div class="welcome-message">
                <span>üí¨</span>
                <p>
                  Welcome to the chat! Be respectful and have fun watching
                  together.
                </p>
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input type="text" id="chat-input" class="chat-input" placeholder="Type your message..." maxlength="200" />
            <button class="send-btn" id="send-chat">
              <span>üì§</span>
            </button>
          </div>
        </div>

        <div class="tab-content" id="media-tab">
          <div class="tab-header">
            <h3>Media Library</h3>
          </div>
          <div class="media-actions admin-only">
            <button class="media-btn" data-action="load-video">
              <span>üìÅ</span>
              <div class="btn-content">
                <div class="btn-title">Load Video File</div>
                <div class="btn-desc">
                  Choose a video from your computer
                </div>
              </div>
            </button>
            <button class="media-btn" data-action="load-url">
              <span>üåê</span>
              <div class="btn-content">
                <div class="btn-title">Load from URL</div>
                <div class="btn-desc">Stream from web URL</div>
              </div>
            </button>
          </div>
          <div class="current-media" id="current-media">
            <div class="no-media">
              <span>üé¨</span>
              <p>No media loaded</p>
              <div class="media-hint">
                Admin can load content to start watching
              </div>
            </div>
          </div>
        </div>

        <!-- Network Tab -->
        <div class="tab-content" id="network-tab">
          <div class="tab-header">
            <h3>Network Statistics</h3>
          </div>
          <div id="network-stats">
            <div class="network-loading">
              <p>üì° Monitoring network...</p>
            </div>
          </div>
          <div class="network-info">
            <div class="info-card">
              <h4>Connection Quality</h4>
              <p>Your network quality affects streaming performance. We automatically adjust quality based on your
                connection.</p>
            </div>
            <div class="speed-recommendations">
              <h4>Recommended Speeds</h4>
              <ul>
                <li>360p: 3+ Mbps</li>
                <li>720p: 5+ Mbps</li>
                <li>1080p: 10+ Mbps</li>
                <li>1440p: 25+ Mbps</li>
                <li>4K: 50+ Mbps</li>
              </ul>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>
  </div>

  <!-- Enhanced Loading Overlay -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <h3>Setting Up Your Room...</h3>
      <p>
        Please wait while we configure your high-quality streaming experience
      </p>
      <div class="loading-progress">
        <div class="progress-bar">
          <div class="progress-fill" id="loading-progress"></div>
        </div>
        <div class="progress-text" id="loading-text">Initializing...</div>
      </div>
    </div>
  </div>

  <!-- Enhanced Modal -->
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modal-title">Modal Title</h3>
        <button class="modal-close" id="modal-close">√ó</button>
      </div>
      <div class="modal-body" id="modal-body">Modal content goes here</div>
      <div class="modal-footer" id="modal-footer">
        <button class="btn btn-secondary" id="modal-cancel">Cancel</button>
        <button class="btn btn-primary" id="modal-confirm">Confirm</button>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>



  <script type="module" src="js/app.js"></script>
</body>

</html>
<span class="rec-description" id="rec-description">--</span>
</div>
</div>
</div>

<!-- Comparison with Current Usage -->
<div class="speed-comparison" id="speed-comparison" style="display: none;">
  <h4>Network Utilization:</h4>
  <div class="comparison-stats">
    <div class="comparison-item">
      <span class="comparison-label">Current Usage:</span>
      <span class="comparison-value" id="current-usage">--</span>
    </div>
    <div class="comparison-item">
      <span class="comparison-label">Available:</span>
      <span class="comparison-value" id="available-bandwidth">--</span>
    </div>
    <div class="comparison-item">
      <span class="comparison-label">Utilization:</span>
      <span class="comparison-value" id="network-utilization">--</span>
    </div>
  </div>
</div>
</div>



<!-- Modal Templates -->
<!-- These will be populated dynamically by ModalManager -->

<!-- Generic Info Modal Template -->
<div class="modal-overlay" id="info-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-md">
    <div class="modal-header">
      <h2 class="modal-title" id="info-modal-title">
        <span class="modal-title-icon">‚ÑπÔ∏è</span>
        <span>Information</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body" id="info-modal-body">
      <!-- Content will be injected here -->
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary modal-close-btn">Got it</button>
    </div>
  </div>
</div>

<!-- Form Modal Template (for room creation, settings, etc.) -->
<div class="modal-overlay" id="form-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-md">
    <div class="modal-header">
      <h2 class="modal-title" id="form-modal-title">
        <span class="modal-title-icon">üìù</span>
        <span>Form</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body" id="form-modal-body">
      <!-- Form content will be injected here -->
    </div>
    <div class="modal-footer" id="form-modal-footer">
      <button class="btn btn-secondary modal-close-btn">Cancel</button>
      <button class="btn btn-primary" id="form-modal-submit">Submit</button>
    </div>
  </div>
</div>

<!-- Status Modal Template (for network details, errors, etc.) -->
<div class="modal-overlay" id="status-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-sm">
    <div class="modal-header">
      <h2 class="modal-title" id="status-modal-title">
        <span class="modal-title-icon">üìä</span>
        <span>Status</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body" id="status-modal-body">
      <!-- Status content will be injected here -->
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary modal-close-btn">Close</button>
    </div>
  </div>
</div>

<!-- Error Modal Template -->
<div class="modal-overlay" id="error-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-sm">
    <div class="modal-header">
      <h2 class="modal-title" id="error-modal-title">
        <span class="modal-title-icon">‚ö†Ô∏è</span>
        <span>Error</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body" id="error-modal-body">
      <!-- Error content will be injected here -->
    </div>
    <div class="modal-footer">
      <button class="btn btn-danger modal-close-btn">Close</button>
    </div>
  </div>
</div>

</div>

<!-- Features Modal -->
<div class="modal-overlay" id="features-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-lg">
    <div class="modal-header">
      <h2 class="modal-title">
        <span class="modal-title-icon">‚ú®</span>
        <span>Why SyncStream Pro?</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body">
      <p class="modal-subtitle">Everything you need for the perfect watch party</p>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon-wrapper">
            <span class="feature-icon">üîÑ</span>
          </div>
          <h3>Perfect Synchronization</h3>
          <p>Every play, pause, and seek is instantly synced across all viewers. No more countdowns or "are you at
            1:23?"</p>
          <div class="feature-badge">WebSocket Technology</div>
        </div>

        <div class="feature-card">
          <div class="feature-icon-wrapper">
            <span class="feature-icon">üè†</span>
          </div>
          <h3>You Own Your Server</h3>
          <p>When you create a room, your PC becomes the host. Complete control, no third-party servers, your rules.</p>
          <div class="feature-badge">P2P Architecture</div>
        </div>

        <div class="feature-card">
          <div class="feature-icon-wrapper">
            <span class="feature-icon">üí¨</span>
          </div>
          <h3>Real-time Chat</h3>
          <p>React and discuss while watching. Chat messages sync with video timestamps for the full experience.</p>
          <div class="feature-badge">Built-in Messaging</div>
        </div>

        <div class="feature-card">
          <div class="feature-icon-wrapper">
            <span class="feature-icon">üé®</span>
          </div>
          <h3>Quality Control</h3>
          <p>Support for 720p, 1080p, and 4K streaming. Adaptive quality based on everyone's connection speed.</p>
          <div class="feature-badge">HD/4K Support</div>
        </div>

        <div class="feature-card">
          <div class="feature-icon-wrapper">
            <span class="feature-icon">üîí</span>
          </div>
          <h3>Privacy First</h3>
          <p>Password-protected rooms, admin controls, and no data collection. Your watch party, your privacy.</p>
          <div class="feature-badge">Secure Rooms</div>
        </div>

        <div class="feature-card">
          <div class="feature-icon-wrapper">
            <span class="feature-icon">üåê</span>
          </div>
          <h3>Works Everywhere</h3>
          <p>Desktop app via Electron or any modern browser. Share links that work on any device.</p>
          <div class="feature-badge">Cross-Platform</div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary modal-close-btn">Got it</button>
    </div>
  </div>
</div>

<!-- How It Works Modal -->
<div class="modal-overlay" id="how-it-works-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-md">
    <div class="modal-header">
      <h2 class="modal-title">
        <span class="modal-title-icon">‚ùì</span>
        <span>How It Works</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body">
      <p class="modal-subtitle">Get started in under a minute</p>
      <div class="modal-steps">
        <div class="modal-step">
          <div class="modal-step-number">1</div>
          <div class="modal-step-content">
            <h3 class="modal-step-title">Create or Join</h3>
            <p class="modal-step-description">Host creates a room and becomes the server. Friends join with the room
              code.</p>
          </div>
        </div>

        <div class="modal-step">
          <div class="modal-step-number">2</div>
          <div class="modal-step-content">
            <h3 class="modal-step-title">Load Your Video</h3>
            <p class="modal-step-description">Add any video file or streaming URL. Everyone sees the same content.</p>
          </div>
        </div>

        <div class="modal-step">
          <div class="modal-step-number">3</div>
          <div class="modal-step-content">
            <h3 class="modal-step-title">Watch Together</h3>
            <p class="modal-step-description">Play, pause, seek - everything syncs automatically. Chat while you watch!
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary modal-close-btn">Got it</button>
    </div>
  </div>
</div>

<!-- Settings/About Modal -->
<div class="modal-overlay" id="settings-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-lg">
    <div class="modal-header">
      <h2 class="modal-title">
        <span class="modal-title-icon">‚öôÔ∏è</span>
        <span>About SyncStream Pro</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="about-section">
        <div class="about-header">
          <div class="about-logo">üé¨</div>
          <h3>SyncStream Pro</h3>
          <p class="about-version">Version 2.0.0</p>
          <p class="about-tagline">Watch videos together in perfect sync with P2P streaming</p>
        </div>

        <div class="about-content">
          <div class="about-card">
            <h4>üíª Open Source Project</h4>
            <p>SyncStream Pro is a free, open-source project built with modern web technologies. Feel free to
              contribute, report issues, or fork the project!</p>
            <div class="tech-stack">
              <span class="tech-badge">Node.js</span>
              <span class="tech-badge">Socket.IO</span>
              <span class="tech-badge">Electron</span>
              <span class="tech-badge">Express</span>
              <span class="tech-badge">WebRTC</span>
            </div>
          </div>

          <div class="about-card">
            <h4>üîó Links & Resources</h4>
            <div class="about-links">
              <a href="https://github.com/yourusername/syncstream-pro" target="_blank" class="about-link">
                <span>üìñ</span>
                <span>View on GitHub</span>
              </a>
              <a href="https://github.com/yourusername/syncstream-pro/issues" target="_blank" class="about-link">
                <span>üêõ</span>
                <span>Report Issue</span>
              </a>
              <a href="https://github.com/yourusername/syncstream-pro/wiki" target="_blank" class="about-link">
                <span>üìö</span>
                <span>Documentation</span>
              </a>
              <a href="https://github.com/yourusername/syncstream-pro/blob/main/LICENSE" target="_blank"
                class="about-link">
                <span>‚öñÔ∏è</span>
                <span>MIT License</span>
              </a>
            </div>
          </div>

          <div class="about-card">
            <h4>üë®‚Äçüíª Developer</h4>
            <p>Built with ‚ù§Ô∏è by passionate developers who believe in bringing people together through technology.</p>
            <div class="about-social">
              <a href="https://github.com/yourusername" target="_blank" class="social-link" title="GitHub">
                <span>üîó</span>
              </a>
              <a href="https://twitter.com/yourusername" target="_blank" class="social-link" title="Twitter">
                <span>üê¶</span>
              </a>
              <a href="mailto:your.email@example.com" class="social-link" title="Email">
                <span>‚úâÔ∏è</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary modal-close-btn">Close</button>
    </div>
  </div>
</div>



<!-- Load JavaScript -->
<script type="module" src="js/app.js"></script>
</body>

</html>
<!-- S
etup Guide Modal -->
<div class="modal-overlay" id="setup-guide-modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-container modal-lg">
    <div class="modal-header">
      <h2 class="modal-title">
        <span class="modal-title-icon">üåê</span>
        <span>Internet Sharing Setup</span>
      </h2>
      <button class="modal-close" aria-label="Close modal">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="setup-guide-content">
        <div class="guide-intro">
          <p>Enable internet access so friends outside your network can join your room.</p>
          <div class="time-estimate">‚è±Ô∏è Takes 5-10 minutes</div>
        </div>

        <div class="guide-steps">
          <div class="guide-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>Access Router Settings</h3>
              <p>Open your router's admin page in a browser:</p>
              <div class="router-options">
                <button class="router-btn" onclick="window.open('http://192.168.1.1', '_blank')">192.168.1.1</button>
                <button class="router-btn" onclick="window.open('http://192.168.0.1', '_blank')">192.168.0.1</button>
                <button class="router-btn" onclick="window.open('http://10.0.0.1', '_blank')">10.0.0.1</button>
              </div>
              <small>üí° Login info is usually on your router's sticker</small>
            </div>
          </div>

          <div class="guide-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>Find Port Forwarding</h3>
              <p>Look for one of these sections:</p>
              <ul class="feature-list">
                <li>Port Forwarding</li>
                <li>Virtual Servers</li>
                <li>NAT / NAT Forwarding</li>
                <li>Applications & Gaming</li>
              </ul>
            </div>
          </div>

          <div class="guide-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>Add New Rule</h3>
              <div class="config-table">
                <div class="config-row">
                  <span class="config-label">Service Name:</span>
                  <span class="config-value">SyncStream</span>
                </div>
                <div class="config-row">
                  <span class="config-label">Protocol:</span>
                  <span class="config-value">TCP</span>
                </div>
                <div class="config-row">
                  <span class="config-label">External Port:</span>
                  <span class="config-value">5000</span>
                </div>
                <div class="config-row">
                  <span class="config-label">Internal Port:</span>
                  <span class="config-value">5000</span>
                </div>
                <div class="config-row">
                  <span class="config-label">Internal IP:</span>
                  <span class="config-value" id="guide-local-ip">Your PC IP</span>
                </div>
              </div>
            </div>
          </div>

          <div class="guide-step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>Share Public URL</h3>
              <p>After saving, friends can join using:</p>
              <div class="public-url-box">
                <code id="guide-public-url">http://YOUR_PUBLIC_IP:5000</code>
                <button class="copy-url-btn" data-copy="guide-public-url">Copy</button>
              </div>
            </div>
          </div>
        </div>

        <div class="guide-tips">
          <h3>üí° Quick Tips</h3>
          <div class="tips-grid">
            <div class="tip">
              <span class="tip-icon">üñ•Ô∏è</span>
              <span>Keep your PC on while hosting</span>
            </div>
            <div class="tip">
              <span class="tip-icon">üîí</span>
              <span>Port 5000 is safe to forward</span>
            </div>
            <div class="tip">
              <span class="tip-icon">üì±</span>
              <span>Local friends don't need this setup</span>
            </div>
          </div>
        </div>

        <div class="guide-help">
          <h3>Need More Help?</h3>
          <div class="help-links">
            <button class="help-btn" onclick="window.open('https://portforward.com/router.htm', '_blank')">
              Find Your Router Model
            </button>
            <button class="help-btn" onclick="window.open('https://www.yougetsignal.com/tools/open-ports/', '_blank')">
              Test Port Status
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary modal-close-btn">Got it!</button>
    </div>
  </div>
</div>""